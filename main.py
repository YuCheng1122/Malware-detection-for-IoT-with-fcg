import argparse
from detector import MalwareDetectorImplementation

def parse_args():
    parser = argparse.ArgumentParser(description='Malware Detector')
    parser.add_argument('-c', '--config', type=str, default='config.json', help='Path to config file')
    return parser.parse_args()

def main():
    args = parse_args()
    detector = MalwareDetectorImplementation(config_path=args.config)
    detector.mkdir()  # Create necessary directories
    model = detector.model(training=True)  # Train the model
    predictions = detector.predict()
    print(predictions)

if __name__ == "__main__":
    main()